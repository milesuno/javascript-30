<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<title>Click and Drag</title>
		<link rel="stylesheet" href="style.css" />
	</head>
	<body>
		<div class="items">
			<div class="item item1">01</div>
			<div class="item item2">02</div>
			<div class="item item3">03</div>
			<div class="item item4">04</div>
			<div class="item item5">05</div>
			<div class="item item6">06</div>
			<div class="item item7">07</div>
			<div class="item item8">08</div>
			<div class="item item9">09</div>
			<div class="item item10">10</div>
			<div class="item item11">11</div>
			<div class="item item12">12</div>
			<div class="item item13">13</div>
			<div class="item item14">14</div>
			<div class="item item15">15</div>
			<div class="item item16">16</div>
			<div class="item item17">17</div>
			<div class="item item18">18</div>
			<div class="item item19">19</div>
			<div class="item item20">20</div>
			<div class="item item21">21</div>
			<div class="item item22">22</div>
			<div class="item item23">23</div>
			<div class="item item24">24</div>
			<div class="item item25">25</div>
		</div>

		<script>
			//DO NOT ASSUME that pages will remain the same. Elements can be added or removed so positioning should be based around

			const items = document.querySelector(".items");
			//Flags to track the position of scrollLeft at mousedown.
			//This is useful when a variable will be updated during a process and many functions need access to that variable throughtout the process
			let scrollTop;
			let scrollLeft;
			let startX;
			let startY;

			items.addEventListener("mousedown", handleMousedown);
			items.addEventListener("mouseup", handleMouseup);
			items.addEventListener("mouseleave", mouseLeave);

			//JS event are also objects with their own Properties and Methods
			function handleMousedown(e) {
				const mouseCoords = { y: e.clientY, x: e.clientX };
				scrollTop = items.scrollTop;
				scrollLeft = items.scrollLeft;
				startX = mouseCoords.x;
				startY = mouseCoords.y;
				items.classList.add("active");
				items.addEventListener("mousemove", handleMousemove);
			}

			function handleMousemove(e) {
				const newMouseCoords = { y: e.clientY, x: e.clientX };
				const pixelsMoved = {
					y: startY - newMouseCoords.y,
					x: startX - newMouseCoords.x
				};

				items.scrollTop = scrollTop + pixelsMoved.y;
				items.scrollLeft = scrollLeft + pixelsMoved.x;
			}

			function mouseLeave() {
				items.classList.remove("active");
				items.removeEventListener("mousemove", handleMousemove);
			}

			function handleMouseup(e) {
				items.classList.remove("active");
				items.removeEventListener("mousemove", handleMousemove);
			}
		</script>
	</body>
</html>
